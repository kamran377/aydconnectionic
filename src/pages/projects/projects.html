<!--
  Generated template for the ProjectsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->



<ion-content padding>
	<h1 class='heading'>My Jobs</h1>
	<h6 class='sub-heading'>Find your jobs here</h6>
	<button ion-button icon-right block class="filterButton" color="primary" (click)="displayFilter()">
		{{filterText[projectType]}}
		<ion-icon name="search"></ion-icon>
	</button>
	
	<ion-card color='light' (click)="viewJob(job.id)"  *ngFor="let job of jobs">
		<ion-card-header>
			{{job.name}}
		</ion-card-header>
		<ion-card-content>
			<p icon-left *ngIf="job.status == 4" color="danger" ><ion-icon name="bookmark"></ion-icon>{{job.status}}</p>
			<p icon-left *ngIf="job.status != 4" color="white" ><ion-icon name="bookmark"></ion-icon>{{job.status}}</p>
			<p icon-left><ion-icon name="calculator"></ion-icon>{{job.type}}</p>
			<p *ngIf="job.status_id == 1" icon-left><ion-icon name="paper"></ion-icon>{{job.bids}}</p>
			<p icon-left><ion-icon name="clock"></ion-icon>{{job.created}}</p>
		</ion-card-content>
		<ion-row >
			<ion-col text-left *ngIf="user && user.user_type_id == 1">
				<button ion-button icon-left small color='primary' (click)="manageJob(job.id)">
					<ion-icon name="build"></ion-icon> Manage
				</button>
			</ion-col>
			<ion-col text-right *ngIf="user && user.user_type_id == 1">
				<button ion-button icon-left small color='danger' (click)="deleteJob(job.id)">
					<ion-icon name="trash"></ion-icon> Delete
				</button>
			</ion-col>
			<ion-col text-right *ngIf="user && user.user_type_id == 2">
				<button ion-button icon-left small color='primary' (click)="viewJob(job.id)">
					<ion-icon name="eye"></ion-icon> View
				</button>
			</ion-col>
			
		</ion-row>
	</ion-card>
	
	<ion-fab right bottom *ngIf="user && user.user_type_id == 1">
		<button ion-fab (click)="goToNewProject()" color="light"><ion-icon name="add"></ion-icon></button>
	</ion-fab>
</ion-content>
